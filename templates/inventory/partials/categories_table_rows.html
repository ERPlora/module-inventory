{% load i18n %}

<tbody id="categories-tbody">
    {% for category in categories %}
    <tr>
        {# ID #}
        <td class="mono text-secondary">{{ category.id }}</td>

        {# Image/Icon #}
        <td>
            {% if category.image %}
            <img src="{{ category.get_image_url }}" alt="{{ category.name }}" class="table-image">
            {% else %}
            <div class="table-image-placeholder" style="background: {{ category.color }}20; border-color: {{ category.color }};">
                <ion-icon name="{{ category.icon }}" style="color: {{ category.color }};"></ion-icon>
            </div>
            {% endif %}
        </td>

        {# Name #}
        <td class="fw-medium">{{ category.name }}</td>

        {# Description #}
        <td class="text-secondary hide-mobile">{{ category.description|truncatewords:10|default:"â€”" }}</td>

        {# Product Count #}
        <td class="cell-center">
            <span class="table-stock-badge" style="background: rgba(var(--color-primary-rgb), 0.15); color: var(--color-primary);">
                {{ category.product_count }}
            </span>
        </td>

        {# Order #}
        <td class="cell-center">{{ category.order }}</td>

        {# Actions #}
        <td>
            <div class="table-actions">
                <ion-button size="small" fill="clear" href="{% url 'inventory:category_edit' pk=category.id %}" title="{% trans 'Edit' %}">
                    <ion-icon slot="icon-only" name="create-outline"></ion-icon>
                </ion-button>
                <ion-button size="small" fill="clear" color="danger"
                            onclick="confirmDeleteCategory({{ category.id }}, '{{ category.name|escapejs }}', this)"
                            title="{% trans 'Delete' %}">
                    <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                </ion-button>
            </div>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="7">
            <div class="table-empty">
                <ion-icon name="folder-open-outline" class="table-empty-icon"></ion-icon>
                <p>{% trans "No categories found" %}</p>
            </div>
        </td>
    </tr>
    {% endfor %}
</tbody>
