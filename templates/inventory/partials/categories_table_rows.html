{% load i18n %}

<tbody>
    {% for category in page_obj %}
    <tr class="border-b hover:bg-opacity-50" style="border-color: var(--ion-border-color);">
        <!-- ID -->
        <td class="px-4 py-3 text-sm font-mono" style="color: var(--ion-color-medium);">
            {{ category.id }}
        </td>

        <!-- Image/Icon -->
        <td class="px-4 py-3">
            {% if category.image %}
            <img src="{{ category.get_image_url }}" alt="{{ category.name }}"
                 class="w-12 h-12 object-cover rounded-lg"
                 style="border: 1px solid var(--ion-border-color);">
            {% else %}
            <div class="w-12 h-12 flex items-center justify-center rounded-lg"
                 style="background: {{ category.color }}20; border: 1px solid {{ category.color }};">
                <ion-icon name="{{ category.icon }}" style="color: {{ category.color }}; font-size: 24px;"></ion-icon>
            </div>
            {% endif %}
        </td>

        <!-- Name -->
        <td class="px-4 py-3 text-sm" style="color: var(--ion-text-color);">
            {{ category.name }}
        </td>

        <!-- Description -->
        <td class="px-4 py-3 text-sm" style="color: var(--ion-color-medium);">
            {{ category.description|truncatewords:10|default:"—" }}
        </td>

        <!-- Product Count -->
        <td class="px-4 py-3 text-sm text-center" style="color: var(--ion-text-color);">
            <span class="px-2 py-1 rounded-full text-xs" style="background: var(--ion-color-primary-tint); color: var(--ion-color-primary-contrast);">
                {{ category.product_count }}
            </span>
        </td>

        <!-- Order -->
        <td class="px-4 py-3 text-sm text-center" style="color: var(--ion-text-color);">
            {{ category.order }}
        </td>

        <!-- Actions -->
        <td class="px-4 py-3">
            <div class="flex gap-1 justify-center">
                <ion-button size="large" fill="clear" href="{% url 'inventory:category_edit' pk=category.id %}" title="{% trans 'Editar' %}">
                    <ion-icon slot="icon-only" name="create-outline"></ion-icon>
                </ion-button>
                <ion-button size="large" fill="clear" color="danger"
                            onclick="confirmDeleteCategory({{ category.id }}, '{{ category.name|escapejs }}', this)"
                            title="{% trans 'Eliminar' %}">
                    <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                </ion-button>
            </div>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="7" class="text-center py-12" style="color: var(--ion-color-medium);">
            <div class="flex flex-col items-center gap-3">
                <ion-icon name="folder-open-outline" style="font-size: 48px;"></ion-icon>
                <span>{% trans "No se encontraron categorías" %}</span>
            </div>
        </td>
    </tr>
    {% endfor %}
</tbody>
