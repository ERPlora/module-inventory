{% load i18n %}

<!-- Partial usado para respuestas HTMX (tabla + paginaciÃ³n) -->
<div class="overflow-x-auto">
    <table class="w-full">
        <thead style="background: var(--ion-color-step-50);">
            <tr>
                <!-- ID -->
                <th class="px-4 py-3 text-left text-sm font-medium" style="color: var(--ion-color-medium); width: 80px;">
                    ID
                </th>

                <!-- Image -->
                <th class="px-4 py-3 text-left text-sm font-medium" style="color: var(--ion-color-medium); width: 80px;">
                    {% trans "Imagen" %}
                </th>

                <!-- Name (sortable) -->
                <th
                    class="px-4 py-3 text-left text-sm font-medium cursor-pointer hover:bg-opacity-80 select-none"
                    style="color: var(--ion-color-medium);"
                    hx-get="{{ request.path }}"
                    hx-target="#products-table-container"
                    hx-include="[name='search'],[name='page'],[name='per_page']"
                    hx-vals='{"order_by": "{% if request.GET.order_by == "name" %}-name{% elif request.GET.order_by == "-name" %}name{% else %}-name{% endif %}"}'
                    hx-push-url="true">
                    {% trans "Nombre" %}
                    {% if request.GET.order_by == "name" %}
                    <ion-icon name="chevron-up-outline" style="font-size: 14px; vertical-align: middle;"></ion-icon>
                    {% elif request.GET.order_by == "-name" %}
                    <ion-icon name="chevron-down-outline" style="font-size: 14px; vertical-align: middle;"></ion-icon>
                    {% endif %}
                </th>

                <!-- SKU (sortable) -->
                <th
                    class="px-4 py-3 text-left text-sm font-medium cursor-pointer hover:bg-opacity-80 select-none"
                    style="color: var(--ion-color-medium);"
                    hx-get="{{ request.path }}"
                    hx-target="#products-table-container"
                    hx-include="[name='search'],[name='page'],[name='per_page']"
                    hx-vals='{"order_by": "{% if request.GET.order_by == "sku" %}-sku{% elif request.GET.order_by == "-sku" %}sku{% else %}-sku{% endif %}"}'
                    hx-push-url="true">
                    {% trans "SKU" %}
                    {% if request.GET.order_by == "sku" %}
                    <ion-icon name="chevron-up-outline" style="font-size: 14px; vertical-align: middle;"></ion-icon>
                    {% elif request.GET.order_by == "-sku" %}
                    <ion-icon name="chevron-down-outline" style="font-size: 14px; vertical-align: middle;"></ion-icon>
                    {% endif %}
                </th>

                <!-- Price (sortable) -->
                <th
                    class="px-4 py-3 text-left text-sm font-medium cursor-pointer hover:bg-opacity-80 select-none"
                    style="color: var(--ion-color-medium);"
                    hx-get="{{ request.path }}"
                    hx-target="#products-table-container"
                    hx-include="[name='search'],[name='page'],[name='per_page']"
                    hx-vals='{"order_by": "{% if request.GET.order_by == "price" %}-price{% elif request.GET.order_by == "-price" %}price{% else %}-price{% endif %}"}'
                    hx-push-url="true">
                    {% trans "Precio" %}
                    {% if request.GET.order_by == "price" %}
                    <ion-icon name="chevron-up-outline" style="font-size: 14px; vertical-align: middle;"></ion-icon>
                    {% elif request.GET.order_by == "-price" %}
                    <ion-icon name="chevron-down-outline" style="font-size: 14px; vertical-align: middle;"></ion-icon>
                    {% endif %}
                </th>

                <!-- Stock (sortable) -->
                <th
                    class="px-4 py-3 text-left text-sm font-medium cursor-pointer hover:bg-opacity-80 select-none"
                    style="color: var(--ion-color-medium);"
                    hx-get="{{ request.path }}"
                    hx-target="#products-table-container"
                    hx-include="[name='search'],[name='page'],[name='per_page']"
                    hx-vals='{"order_by": "{% if request.GET.order_by == "stock" %}-stock{% elif request.GET.order_by == "-stock" %}stock{% else %}-stock{% endif %}"}'
                    hx-push-url="true">
                    {% trans "Stock" %}
                    {% if request.GET.order_by == "stock" %}
                    <ion-icon name="chevron-up-outline" style="font-size: 14px; vertical-align: middle;"></ion-icon>
                    {% elif request.GET.order_by == "-stock" %}
                    <ion-icon name="chevron-down-outline" style="font-size: 14px; vertical-align: middle;"></ion-icon>
                    {% endif %}
                </th>

                <!-- Actions -->
                <th class="px-4 py-3 text-center text-sm font-medium" style="color: var(--ion-color-medium); width: 150px;">
                    {% trans "Acciones" %}
                </th>
            </tr>
        </thead>
        {% include "inventory/partials/products_table_rows.html" %}
    </table>
</div>

<ion-card-content>
    {% include "inventory/partials/products_pagination.html" %}
</ion-card-content>
