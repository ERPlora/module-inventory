{% load static i18n ui component_tags %}

{% component "settings_page"
    title=_("Inventory Settings")
    subtitle=_("Configure inventory module behavior")
    module_id="inventory"
    tabbar_view="settings" %}

    {% fill "settings" %}
        {% component "setting_section" title=_("Stock Management") %}
            {% component "toggle"
                name="allow_negative_stock"
                title=_("Allow Negative Stock")
                description=_("Allow products to have negative stock values")
                checked=config.allow_negative_stock
                color="warning"
                hx_post="/m/inventory/settings/toggle/" %}{% endcomponent %}

            {% component "toggle"
                name="low_stock_alert_enabled"
                title=_("Low Stock Alerts")
                description=_("Send alerts when products reach low stock threshold")
                checked=config.low_stock_alert_enabled
                hx_post="/m/inventory/settings/toggle/" %}{% endcomponent %}
        {% endcomponent %}

        {% component "setting_section" title=_("Product Display") %}
            {% component "toggle"
                name="barcode_enabled"
                title=_("Barcode Generation")
                description=_("Enable barcode generation and display for products")
                checked=config.barcode_enabled
                hx_post="/m/inventory/settings/toggle/" %}{% endcomponent %}
        {% endcomponent %}
    {% endfill %}

    {% fill "actions" %}
        <div class="setting-actions mt-lg pt-md">
            <ion-button
                color="medium"
                fill="outline"
                expand="block"
                hx-post="/m/inventory/settings/reset/"
                hx-confirm="{% trans 'Reset all settings to defaults?' %}"
                hx-target="#main-content-area"
                hx-include="[name='csrfmiddlewaretoken']">
                <ion-icon slot="start" name="refresh-outline"></ion-icon>
                {% trans "Reset to Defaults" %}
            </ion-button>
        </div>
    {% endfill %}

    {% fill "footer" %}
        <div class="setting-info mt-lg p-md rounded-lg">
            <div class="d-flex align-start gap-sm">
                <ion-icon name="information-circle-outline" class="setting-info__icon"></ion-icon>
                <p class="fs-sm text-secondary m-0">
                    {% trans "This configuration is saved locally in the Hub and affects the inventory module behavior. Changes are applied immediately." %}
                </p>
            </div>
        </div>
    {% endfill %}
{% endcomponent %}
